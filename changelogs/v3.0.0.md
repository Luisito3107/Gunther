# Changelog from v2.0.0 to v3.0.0

## Added

 - Autoplay: play a mix of similar songs when the queue ends. Can be enabled or disabled with the `/autoplay` slash command.
 - 24h mode: accidentaly I removed it before, so its added again. Can be enabled or disabled with the `/24h` slash command. Command can be disabled in the `config.json` file.
 - `/loop` slash command now have arguments to set a specific loop mode.
 - Added the `youtube` and `spotify` parameters to the `/search` slash command, for specific search.
 - config.json:
	 - `_24H_COMMAND_ENABLED`
	 - `ONLY_OWNERS_CAN_INVITE`


## Removed

 - KSoft lyrics engine support, as KSoft API is not working anymore.


## Fixed
 - Fixed the [setLoop issue on Laffey](https://github.com/Weeb-Devs/Laffey/issues/64).
 - Fixed the `/nowplaying` command. Used to crash the bot when used.
 - Fixed the `voiceStateUpdate` event, to let the bot pause and resume the music if there are no more users in the voice channel. The bot will pause the music, then will leave the voice channel after 2 minutes of inactivity, unless 24h mode is enabled.


## Changed
 - Now, when a track is added to queue, its metadata will be replaced my Spotify metadata (if found).
 - Pagination buttons now will only show if there is more than one page.
 - Now playing embeds will show if any loop mode is enabled in its footer.
 - `/about` command now shows bot version.
 - Added the ability to enable or disable commands. If a command is disabled, it will not be loaded or registered into any Discord GUILD.
 - Player will now store up to the last 5 songs played, to make the autoplay mix work.
 - Autoresume function will now restore every filter set, and will only join if there are users in the voice channel. Will keep the last 5 songs played stated above, the thumbnails and metadata from the Spotify tracks as well.
 - Now each GUILD can have its own specific options stored in MongoDB. Currently, only autoplay function is supported, but will work on more options in the future (maybe language support?)
 - Modified custom Lavasfy module to be able to make request to any endpoint of the Spotify Web API.
 - Prefix command unsupported embed will now show under more specific conditions.
 - `/queue` command now shows queue length.
 - Slightly changed `/grab` command format.
 - Added `url` option to the `/sendembed` command.
 - Added `autoplay`, `party` and `gift` icons.


## Notes

 - Update from v2.0.0 to v3.0.0 should work without problems.
 - If lyrics engine is set to KSoft, bot will automatically switch to Google. I recommend to switch to Genius Lyrics API to take full advantage of the lyrics engine.